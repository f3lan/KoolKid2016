<div class="row" data-ng-init="postsController.show()">
    <md-card>
        <md-card-header>
            <md-card-avatar>
                <img class="md-user-avatar" src="/assets/images/default-user-image.png"/>
            </md-card-avatar>
            <md-card-header-text>
                <span class="md-title">{{postsController.post.author}}</span>
                <span class="md-subhead">{{postsController.post.date | date: format: 'dd.mm.yyyy'}}</span>
            </md-card-header-text>
        <span ng-if="postsController.post.solved"
              class="label label-success"
              style="line-height:40px; vertical-align: middle; display: inline-block;">
          Solved
        </span>
        </md-card-header>
        <img ng-src="/assets/uploads/{{postsController.post._id}}.png" class="md-card-image">
        <md-card-title>
            <md-card-title-text>
                <span class="md-headline">{{postsController.post.title}}</span>
            <span class="md-subhead">
                <ul class="list-inline">
                    <li class="category">
                        {{postsController.post.category}}
                    </li>
                </ul>
            </span>
            </md-card-title-text>
        </md-card-title>
        <md-card-actions layout="row" layout-align="start center">
            <md-button class="btn btn-lg" ng-if="!postsController.post.solved"
                       ng-click="postsController.solve(true)">{{'posts.show.button.markSolved' | translate}}</md-button>
            <md-button class="btn btn-lg" ng-if="postsController.post.solved"
                       ng-click="postsController.solve(false)">{{'posts.show.button.markNotSolved' | translate}}</md-button>
            <md-card-icon-actions>
            <span>
                Rating: {{postsController.post.rating}}
            <a ng-click="postsController.rate(1)" href="">
              <span class="glyphicon glyphicon-thumbs-up"></span></a> | <a ng-click="postsController.rate(-1)" href="">
              <span class="glyphicon glyphicon-thumbs-down"></span>
            </a>
            </span>
            </md-card-icon-actions>
        </md-card-actions>
        <md-card-content>
            <span class="md-subhead">Description</span>
            <p>{{postsController.post.content}}</p>
        </md-card-content>
    </md-card>
</div>
<div class="row">
    <h4>
        {{'posts.comments' | translate}}
    </h4>
    <hr/>
    <md-card ng-repeat="comment in postsController.post.comments">
        <md-card-header>
            <md-card-avatar>
                <img class="md-user-avatar" src="/assets/images/default-user-image.png"/>
            </md-card-avatar>
            <md-card-header-text>
                <span class="md-title">{{comment.author}}</span>
                <span class="md-subhead">{{comment.date | date: format: 'dd.mm.yyyy'}}</span>
            </md-card-header-text>
        </md-card-header>

        <md-card-title>
            <md-card-title-text>
                <span class="md-subhead text-comment">{{comment.text}}</span>
            </md-card-title-text>
        </md-card-title>
        <md-card-actions layout="row" layout-align="start center" ui-sref="app.comments#edit( {id: comment.post, commentId:comment._id})">
            <md-button class="btn btn-xs">Edit Comment</md-button>
        </md-card-actions>
    </md-card>
</div>

<div class="row">
    <h3>
        {{'posts.answers' | translate}}
    </h3>
    <hr/>
    <md-card ng-repeat="answer in postsController.post.answers">
        <md-card-header>
            <md-card-avatar>
                <img class="md-user-avatar" src="/assets/images/default-user-image.png"/>
            </md-card-avatar>
            <md-card-header-text>
                <span class="md-title">{{answer.author}}</span>
                <span class="md-subhead">{{answer.date | date: format: 'dd.mm.yyyy'}}</span>
            </md-card-header-text>
        </md-card-header>

        <md-card-title>
            <md-card-title-text>
                <span class="md-subhead text-answer">{{answer.text}}</span>
            </md-card-title-text>
        </md-card-title>
        <md-card-actions layout="row" layout-align="start center" ui-sref="app.answers#edit( {id: answer.post, answerId:answer._id})">
            <md-button class="btn btn-xs">Edit Answer</md-button>
        </md-card-actions>
    </md-card>
</div>
