<div data-ng-init="postsController.index()">

  <h2 class="">
    {{'posts.index.title' | translate}}
  </h2>

  <hr/>
  <md-content>
    <md-list>
      <md-list-item class="md-3-line" ng-repeat="post in postsController.posts">
        <img ng-src="/assets/uploads/{{post._id}}.png" onerror="this.src='/assets/images/noimage.png'" class="md-avatar" alt="{{item.who}}" />
        <div class="md-list-item-text" layout="column">
          <a href="#/posts/{{post._id}}/">{{post.title}}</a>
          <h4>{{post.author}} - {{post.date | date: format: 'dd.MM.yyyy'}}</h4>
          <p ng-if="postsController.canEdit(post)">
            <a ng-click="postsController.edit(post)" href="">
              {{'posts.index.edit' | translate}}
            </a>|
            <a ng-click="postsController.del(post)" href="">
              {{'posts.index.delete' | translate}}
            </a>
          </p>
          <p ng-if="!postsController.canEdit(post)"><br></p>
        </div>
        <div class="md-list-item-text" layout="column">
          <br>
          <span>{{post.category}}</span>
          <br>
        </div>
        <div class="md-list-item-text" layout="column">
          <br>
          <span>{{'posts.rating' | translate}}: {{post.rating}}</span>
          <br>
        </div>
        <div class="md-list-item-text" layout="column">
          <br>
          <span ng-if="post.solved"  style="margin-left: 10px;" class="label label-success">{{'posts.solved' | translate}}</span>
          <br>
        </div>
      </md-list-item>
    </md-list>
  </md-content>
</div>